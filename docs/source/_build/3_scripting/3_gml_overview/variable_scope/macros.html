<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>Macros</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">

<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/3_gml_overview/variable_scope/macros.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F3_gml_overview%2Fvariable_scope%2Fmacros.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F3_gml_overview%2Fvariable_scope%2Fmacros.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2>Macros (Constants)</h2>

<div class="body-scroll">
<p><br>
</p>

<p>While not exactly variables, macros are similar to them in how
they are used, ie: they are named values that you can use
throughout your code to replace hard values. Basically, a macro
(also called a <b>constant</b> when used like this) is a named
variable that holds a constant single value (or string). You can
define your own constants using the <a href=
"../../../2_interface/1_editors/scripts.html">Script Editor</a> and
then use them in your code and DnD as if they were regular
variables, with the one difference being that they <i>can't be
changed in the game</i>. For example say you define the following
macro as a constant (note the preceding "#" and the lack of a colon
";" at the end):</p>

<p class="code">#macro total_weapons 10<br></p>

<p><br>
You would then call this in your code like this:</p>

<p class="code">if ++pos == total_weapons<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;pos = 0;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br></p>

<p><br>
Note that you would not be able to change the constant value, so
code like this will cause the game to crash:</p>

<p class="code">total_weapons = 11;<br></p>

<p><br>
You can define a macro anywhere in your code or scripts and it will
be <i>pre-compiled</i> and included in your game as if it was there
from the start, but we recommend that you create a dedicated script
resource and define all your macros in there. It will be easier to
organise and debug later!</p>

<p>If you need the value of a macro to change at run-time then you
should probably make it a global variable, since these can be
changed from code during a game, unless you set the macro to be a
<i>function</i>. By setting the macro to a function it means that
this function will be called every time you use the macro. For
example:</p>

<p class="code">#macro col make_colour_hsv(irandom(255), 255,
255)</p>

<p><br>
You would then call this macro something like this:</p>

<p class="code">image_blend = col;</p>

<p><br>
Using this code will make the image blend a different colour every
time the macro is used. It is worth noting that you can also split
macros over multiple lines using the <tt>\</tt> character to show
where the line breaks. An example would be something like:</p>

<p class="code">#macro hello show_debug_message("Hello" + \<br>
string(player_name) + \<br>
", how are you today?");</p>

<p><br>
This is purely cosmetic, in that splitting a macro like this will
have no effect over the result of the final macro, and is simply to
provide support for multiline text on macros that have longer lines
of code.</p>

<p>One very important feature of macros is that they can be defined
for use with specific <a href=
"../../../2_interface/3_settings/configurations.html">Configurations</a>
(configs), meaning you can have the same macro name but give it
different values based on the currently selected config. For
example, say you have a configuration for Android Ads and another
for iOS Ads, then you could define a single macro to hold the
required app ID value:</p>

<p class="code">#macro ad_id "";<br>
#macro Android:ad_id "com.yoyogames.googlegame"<br>
#macro iOS:ad_id "com.yoyogames.appstoregame"</p>

<p><br>
As you can see, you give the config name first then a colon : and
then the macro name and value. Note that you cannot have any
whitespace between the colon : and either the config name nor the
macro name otherwise you will get an error.</p>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">Back: <a href="../6_scope.html">Variables
and Variable Scope</a></div>

<div style="float:right">Next: <a href="local_variables.html">Local
Variables</a></div>
</div>
</div>

<h5>Â© Copyright YoYo Games Ltd. 2019 All Rights Reserved</h5>
</div>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
