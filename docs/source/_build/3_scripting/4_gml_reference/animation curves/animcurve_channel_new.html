<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>animcurve_channel_new</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/animation curves/animcurve_channel_new.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fanimation%20curves%2Fanimcurve_channel_new.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fanimation%20curves%2Fanimcurve_channel_new.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2>animcurve_channel_new</h2>

<div class="body-scroll">
<p><br>
</p>

<h3>Description</h3>

<blockquote>
<p>This function can be used to create a new animation curve
channel <a href="../../3_gml_overview/11_structs.html">struct</a>.
A channel struct has the following variables:</p>

<div class="compat">
<table class="param">
<tr>
<th>Variable Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>

<tr>
<td>name</td>
<td>string</td>
<td>This is the name of the channel.</td>
</tr>

<tr>
<td>type</td>
<td>constant</td>
<td>This will be one of the constants
<tt><b>animcurvetype_linear</b></tt> for linear interpolation
between points, or <tt><b>animcurvetype_catmullrom</b></tt> for
"smooth" interpolation between the points using catmull-rom
interpolation.</td>
</tr>

<tr>
<td>iterations</td>
<td>integer</td>
<td>If the channel is using catmull-rom ("smooth") interpolation
this holds how many points have been generated for each segment of
the curve (note that these extra points are internal to the
function and only used for the runtime calculations). If the
channel is using linear interpolation, this value will still exist
but can be ignored as it has no bearing on how the curve is
interpolated.</td>
</tr>

<tr>
<td>points</td>
<td>array pointer</td>
<td>This is an array, where each item in the array is a point
struct.</td>
</tr>
</table>
</div>

<p><br>
By default when you create a new channel struct, the "name"
variable will be an empty string, the "type" will be
<tt>animcurvetype_linear</tt> and the "iterations" will be 16. All
these variables can be set to the values that you require (note
that the "iterations" value has no effect on linear curve types).
Once created you need to add points to the curve, which is done by
adding different point structs to the "points" array. These point
structs can be created using the function <a href=
"animcurve_point_new.html"><tt>animcurve_point_new()</tt></a>, and
hold the following variables:</p>

<div class="compat">
<table class="param">
<tr>
<th>Variable Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>

<tr>
<td>posx</td>
<td>real</td>
<td>The position in time (normalised from 0 to 1) of the
point.</td>
</tr>

<tr>
<td>value</td>
<td>real</td>
<td>The value of the point.</td>
</tr>
</table>
</div>
</blockquote>

<p><br>
</p>

<h3>Syntax:</h3>

<p class="code">animcurve_channel_new();</p>

<p><br>
</p>

<h3>Returns:</h3>

<p class="code">Struct</p>

<p><br>
</p>

<h3>Example:</h3>

<p class="code">my_curve = animcurve_create();<br>
my_curve.name = "My_Curve";<br>
var _channels = array_create(1);<br>
_channels[0] = animcurve_channel_new();<br>
_channels[0].name = "alpha";<br>
_channels[0].type = animcurvetype_catmullrom;<br>
_channels[0].iterations = 8;<br>
var _points = array_create(3);<br>
_points[0] = animcurve_point_new();<br>
_points[0].posx = 0;<br>
_points[0].value = 0;<br>
_points[1] = animcurve_point_new();<br>
_points[1].posx = 0.5;<br>
_points[1].value = 1;<br>
_points[2] = animcurve_point_new();<br>
_points[2].posx = 1;<br>
_points[2].value = 0;<br>
_channels[0].points = _points;<br>
my_curve.channels = _channels;<br></p>

<blockquote>
<p>The above code creates a new animation curve struct and stores
it in the variable "my_curve". This struct is then populated with a
name and a channel array. The channel array contains a single
channel with three points.</p>
</blockquote>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">Back: <a href="index.html">Animation
Curves</a></div>

<div style="float:right">Next: <a href=
"animcurve_point_new.html">animcurve_point_new</a></div>
</div>
</div>

<h5>Â© Copyright YoYo Games Ltd. 2019 All Rights Reserved</h5>
</div>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
