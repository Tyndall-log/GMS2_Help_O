<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>animcurve_create</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/animation curves/animcurve_create.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fanimation%20curves%2Fanimcurve_create.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fanimation%20curves%2Fanimcurve_create.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2>animcurve_create</h2>

<div class="body-scroll">
<p><br>
</p>

<h3>Description</h3>

<blockquote>
<p>This function will create an empty animation curve <a href=
"../../3_gml_overview/11_structs.html">struct</a>, ready for you to
populate with channel data. The function will return a pointer to
the struct and this is then used to add channels and other data to
the animation curve. You can also supply this to functions like
<a href="animcurve_get.html"><tt>animcurve_get</tt></a> to later
get the data from the curve.</p>

<p>When you use this function, the struct created will have no data
in it, and to use it you should add at least one channel and the
channel should have points added to it. To add a channel, see the
function <a href=
"animcurve_channel_new.html"><tt>animcurve_channel_new()</tt></a>,
and to add points to the channel, see the function <a href=
"animcurve_point_new.html"><tt>animcurve_point_new()</tt></a>.
Additionally you can give the animation curve struct a name by
setting the "name" variable (as shown in the example code, below).
Channels added to a new animation curve should be added as an
array, where each item in the array references a channel struct,
and the points in a channel should also be added as an array, where
each array item references a point struct.</p>

<p>Note that animation curves created in this way <b>must be
deleted when no longer required</b> as they will take up space in
memory otherwise, which may lead to a memory leak, slowing down and
eventually crashing your game. You can remove an animation curve
when no longer needed using the function <a href=
"animcurve_destroy.html"><tt>animcurve_destroy()</tt></a>. You do
not need to to clean up any channel or point data within the curve,
as this will be done by the garbage collector automatically when
the curve itself is destroyed.</p>
</blockquote>

<p><br>
</p>

<h3>Syntax:</h3>

<p class="code">animcurve_create();</p>

<p><br>
</p>

<h3>Returns:</h3>

<p class="code">Struct</p>

<p><br>
</p>

<h3>Example:</h3>

<p class="code">my_curve = animcurve_create();<br>
my_curve.name = "My_Curve";<br>
var _channels = array_create(1);<br>
_channels[0] = animcurve_channel_new();<br>
_channels[0].name = "alpha";<br>
_channels[0].type = animcurvetype_catmullrom;<br>
_channels[0].iterations = 8;<br>
var _points = array_create(3);<br>
_points[0] = animcurve_point_new();<br>
_points[0].posx = 0;<br>
_points[0].value = 0;<br>
_points[1] = animcurve_point_new();<br>
_points[1].posx = 0.5;<br>
_points[1].value = 1;<br>
_points[2] = animcurve_point_new();<br>
_points[2].posx = 1;<br>
_points[2].value = 0;<br>
_channels[0].points = _points;<br>
my_curve.channels = _channels;<br></p>

<blockquote>
<p>The above code creates a new animation curve struct and stores
it in the variable "my_curve". This struct is then populated with a
name and a channel array. The channel array contains a single
channel with three points.</p>
</blockquote>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">Back: <a href="index.html">Animation
Curves</a></div>

<div style="float:right">Next: <a href=
"animcurve_channel_new.html">animcurve_channel_new</a></div>
</div>
</div>

<h5>Â© Copyright YoYo Games Ltd. 2019 All Rights Reserved</h5>
</div>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
