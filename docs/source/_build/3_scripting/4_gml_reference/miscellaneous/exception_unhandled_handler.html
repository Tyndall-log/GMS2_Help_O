<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>exception_unhandled_handler</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/miscellaneous/exception_unhandled_handler.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fmiscellaneous%2Fexception_unhandled_handler.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fmiscellaneous%2Fexception_unhandled_handler.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2>exception_unhandled_handler</h2>

<div class="body-scroll">
<p><br>
</p>

<h3>Description</h3>

<blockquote>
<p>This runtime function can be used to "take over" the default
<i>GameMaker Studio 2</i> error message when a runtime exception
occurs. You supply a method or function and it will be passed the
exception struct that is created when the exception was thrown.
This struct has the following format:</p>

<p class="code">{<br>
message :
"",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//
a string that is a short message for this exception<br>
longMessage :
"",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//
a string that is a longer message for this exception<br>
script :
"",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//
a string that describes where the exception came from<br>
stacktrace : [ "", "" ],&nbsp;&nbsp;&nbsp;&nbsp;// an array of
strings that is the stack frame the exception was generated<br>
}<br></p>

<p><br>
Using this function means that no error message will be shown to
the user, and note that the context for running the method is
<i>not</i> in an event and so it is highly unlikely that anything
could be rendered at this time to the screen. In general, the
safest thing that could be done at this point is to save a file
with the exception context information so it could be - for example
- parsed and processed on the next run of the game and then dealt
with.</p>

<p>The function will not return anything by default, but if you use
the <tt>return</tt> statement in the supplied method, then the
given value will be converted to an integer and used as the exit
code from the runner.</p>
</blockquote>

<p><br>
</p>

<h3>Syntax:</h3>

<p class="code">exception_unhandled_handler(user_handler);</p>

<div class="param">
<table>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>

<tr>
<td>user_handler</td>
<td>The method (user-defined function) to use as the exception
handler.</td>
</tr>
</table>
</div>

<p><br>
</p>

<h3>Returns:</h3>

<p class="code">Integer (if supplied)</p>

<p><br>
</p>

<h3>Example:</h3>

<p class="code">exception_unhandled_handler(function(ex)<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;show_debug_message(
"----------------------------------------------------------------------");<br>

&nbsp;&nbsp;&nbsp;&nbsp;show_debug_message( "Unhandled exception "
+ string(ex) );<br>
&nbsp;&nbsp;&nbsp;&nbsp;show_debug_message(
"----------------------------------------------------------------------");<br>

&nbsp;&nbsp;&nbsp;&nbsp;if file_exists("crash.txt")
file_delete("crash.txt");<br>
&nbsp;&nbsp;&nbsp;&nbsp;var _f =
file_text_open_write("crash.txt");<br>
&nbsp;&nbsp;&nbsp;&nbsp;file_text_write_string(_f, string(ex));<br>
&nbsp;&nbsp;&nbsp;&nbsp;file_text_close(_f);<br>
&nbsp;&nbsp;&nbsp;&nbsp;return 0;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
)<br></p>

<blockquote>
<p>The above code will create an exception handler method and use
it to save a file with the exception data.</p>
</blockquote>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">Back: <a href=
"index.html">Miscellaneous</a></div>

<div style="float:right">Next: <a href=
"external_define.html">external_define</a></div>
</div>
</div>

<h5>Â© Copyright YoYo Games Ltd. 2019 All Rights Reserved</h5>
</div>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
