<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>Broadcast Messages</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">

<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/2_interface/1_editors/sequences/broadcast messages.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F2_interface%2F1_editors%2Fsequences%2Fbroadcast%20messages.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F2_interface%2F1_editors%2Fsequences%2Fbroadcast%20messages.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2>Broadcast Messages</h2>

<div class="body-scroll">
<p><br>
</p>

<p>Both <a href="../sequences.html">Sequences</a> and <a href=
"../sprites.html">Sprites</a> can generate what are called
<b>broadcast messages</b> at any point along their length. These
messages are simple strings that are added to specific frames along
the animation timeline, and when that point in the timeline is
reached, then the string will be broadcast out to all instances
that listen for it. Any instance that has a <a href=
"../events/index.html">Broadcast Message Event</a> (found in the
"Other" event category) will receive the message string when it is
reached in the timeline, at which point it's up to you to have some
code that will parse it and react accordingly. Note too that
sequences can <i>also</i> listen for broadcast messages, but this
requires you to first set up the listener method using code (see
the GML section on <a href=
"../../../3_scripting/4_gml_reference/sequences/sequence%20events.html">
Sequence Events And Moments</a> for more information).</p>

<div class="note"><b>NOTE</b>: Currently only broadcast messages
created by sequences can be dealt with. Coming updates will add
this functionality to sprites/instances too, and this page will be
updated.</div>

<p><br>
When a Broadcast Message event is triggered, there will be a
special <a href=
"../../../3_scripting/4_gml_reference/data_structures/ds%20maps/index.html">
DS map</a> created called <tt>event_data</tt>. This variable ID is
a built-in global scope variable, but will <i>only</i> contain DS
map data in the event that triggered it, in this case the Broadcast
Message event. The keys that the event will have are as
follows:</p>

<ul>
<li>"<b>event_type</b>": For a broadcast message this will
currently only be the string "<b>sequence event</b>".<br>
<br></li>

<li>"<b>message</b>": This key contains the message string that has
been received.<br>
<br></li>

<li>"<b>element_id</b>": This key returns the ID of the element
(sequence/sprite/instance) on a layer in the room editor. You can
then use this ID value to find out what kind of element generated
the message using the function <a href=
"../../../3_scripting/4_gml_reference/rooms/layers/layer_get_element_type.html">
<tt>layer_get_element_type()</tt></a> and to use the other relevant
functions to target it or perform an action like play a sound as
required.</li>
</ul>

<p>Note that you can define a broadcast message with multiple
strings. When this happens, the event will be triggered multiple
times - once for each message string.</p>

<p>Below is a brief example of how this event can be used:</p>

<p class="code">if event_data[? "event_type"] == "sequence
event"<br>
{<br>
switch (event_data[? "message"])<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;case "hit":<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;audio_play_sound(snd_hit,
0, false);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br>
&nbsp;&nbsp;&nbsp;&nbsp;case "destroy":<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sequence_destroy(event_data[?
"element_id"]);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
}<br></p>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">Back: <a href="../sequences.html">The
Sequences Editor</a></div>

<div style="float:right">Next: <a href=
"the%20sequence%20canvas.html">The Sequence Canvas</a></div>
</div>
</div>

<h5>Â© Copyright YoYo Games Ltd. 2019 All Rights Reserved</h5>
</div>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
