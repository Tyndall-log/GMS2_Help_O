<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>Creating Action Scripts</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">

<link rel="stylesheet" href="../../../../files/helpindex.css" type=
"text/css">
<link rel="stylesheet" href="../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/1_drag_and_drop_overview/action_scripts.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../index.html?page=source%2F_build%2F3_scripting%2F1_drag_and_drop_overview%2Faction_scripts.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../index.html?page=source%2F_build%2F3_scripting%2F1_drag_and_drop_overview%2Faction_scripts.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2>Creating Action Scripts</h2>

<div class="body-scroll">
<p><br>
</p>

<p>One of the most important assets in the <b>Asset Browser</b> is
the <b>Script</b> asset. Scripts are special assets in that they
are essentially "containers" for user defined functions and are not
themselves actually called by you directly in your games. All
scripts are <b>global</b> in scope and will be run automatically by
GameMaker when your game starts, so you can use them to define
global variables and functions that you want to use throughout your
game.</p>

<p>Each DnD™ script can have one or more user-defined functions
added to it, and these functions are created using the action
<a href=
"../2_drag_and_drop_reference/common_actions/declare_function.html">
Declare A New Function</a>: <img class="center" src=
"../2_drag_and_drop_reference/common_actions/images/a_common_declare_function.png"
alt="Declare A New Function Syntax"></p>

<p>The functions you define here will be global in scope and act
much like any built-in DnD™ action, ie: they can take different
values - or none at all - called <b>arguments</b> or
<b>parameters</b>, and then perform a task, returning a value or
returning nothing as required. You would then call the function in
your games using the <a href=
"../2_drag_and_drop_reference/common_actions/function_call.html">Function
Call</a> <img style="vertical-align:middle" src=
"../2_drag_and_drop_reference/common_actions/images/i_common_execute_function.png">
 action, which looks like this: <img class="center" src=
"../2_drag_and_drop_reference/common_actions/images/a_common_execute_function.png"
alt="Function Call Syntax"></p>

<p>To create a DnD™ script, you simply use the right mouse button
<img style="vertical-align:middle" src="../../images/icon_rmb.png">
on the Script asset folder (or anywhere in the Asset Browser) and
select <i>Create</i> then <i>Script</i>. This will create a new
DnD™ script and open the editor window: <img class="center" src=
"images/dnd_scripts.png" alt="D&amp;D Script editor"></p>

<p>You can name the script by right clicking <img style=
"vertical-align:middle" src="../../images/icon_rmb.png"> on it in
the Asset Browser and selecting <i>Rename</i> (or by using a slow
double left click <img style="vertical-align:middle" src=
"../../images/icon_lmb.png">), but note that the script name
<i>must</i> conform to the general rules for assets, so they must
start with a letter and only contain letters, numbers or the "_"
under-bar symbol. Your script will also be pre-populated with a
<b>Declare A New Function</b> action, ready for you to fill it out,
and you can add more function declarations as required (a single
script can hold multiple functions, which is useful for grouping
functions with similar or connected usage together).</p>

<p>As mentioned above, you can pass a number of <b>arguments</b> to
a function, and it will use these to perform the task you have
written it for. To understand this better, take - for example - any
of the built-in actions and think about how it works... you place
it in an event and supply a number of values and it will make your
instance do something. User-defined functions are exactly the same,
with the only difference being that <i>you</i> write them.</p>

<p>When defining a new function, you give it a name and also define
the name of any arguments it takes, if it takes any (functions can
take no arguments or multiple arguments depending on what you
require). If you give argument names, then these will be used in
the actions that the function calls as <b>local</b> variables
holding the function input values. It is also good practice to add
in a comment for the action that explains what it does, following
the <a href=
"../../../1_overview/3_additional_information/jsdoc.html">JS Doc
rules</a>. For example, consider this function <tt>set_vec</tt>:
<img class="center" src="images/dnd_functionexample.png" alt=
"D&amp;D Function Example With Comments"></p>

<p>To call the script above you would simply use the <b>Call
Function</b> action, like this: <img class="center" src=
"../2_drag_and_drop_reference/common_actions/images/e_common_declare_function_2.png"
alt="Call A Function From A Script"></p>

<p>Not only can you pass arguments into a function, but you can
also ask a function to return a value too (using the <a href=
"../2_drag_and_drop_reference/common_actions/return.html">Return</a>
<img style="vertical-align:middle" src=
"../2_drag_and_drop_reference/common_actions/images/i_common_return.png">
 action), so you can use them to (for example) build calculating
methods or give back an instance ID after a complex collision
detection or any number of things. Please note, however, that
<b>using <tt>return</tt> ends the function</b>, and so no actions
placed after it has been used will be executed, and this means that
a certain amount of thought has to go into how your functions are
structured.</p>

<p>Below is a Drag and Drop function that returns a value:
<img class="center" src="images/script_example_return.png" alt=
"D&amp;D Script Return Example"></p>

<p>The function above simply checks all the instances in a room to
see what their <tt>object_index</tt> is and if one of them is the
player object the function will return <tt>true</tt> (ending the
function call) or <tt>false</tt>. You would call this function like
this: <img class="center" src="images/script_call_return.png" alt=
"Call D&amp;D Script With Return Value"> So, we call the function
and have it create a temporary (local) variable to store the
returned value (which in this case is either <tt>true</tt> or
<tt>false</tt>), and then this variable is checked and an action
taken.</p>

<p>When making functions for your DnD™ scripts you can use all the
same actions as you would when adding actions into an object event,
and you can even call functions from within functions, and in this
way create more "modular" action code. Building scripts with
functions in this way can save you a lot of time creating the same
action sequences and can also help make your action sequences
easier to read and easier to debug.</p>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">Back: <a href="index.html">Drag And Drop
Overview</a></div>

<div style="float:right">Next: <a href="changing_dnd.html">Changing
Drag And Drop To Code</a></div>
</div>
</div>

<h5>© Copyright YoYo Games Ltd. 2019 All Rights Reserved</h5>
</div>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
