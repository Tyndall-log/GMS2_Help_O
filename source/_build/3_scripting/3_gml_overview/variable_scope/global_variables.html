<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>Global Variables</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">

<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/3_gml_overview/variable_scope/global_variables.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F3_gml_overview%2Fvariable_scope%2Fglobal_variables.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F3_gml_overview%2Fvariable_scope%2Fglobal_variables.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2>Global Variables</h2>

<div class="body-scroll">
<p><br>
</p>

<p>A basic description of a global variable is one that, once
declared, it belongs to no instance in particular and yet can be
accessed by all. Just like local variables, global variables must
be declared, but unlike a local variable, a global variable remains
in memory until the end of the game. So, you can create a global
variable to keep track of (for example) the number of bullets that
the player has and then just update this variable at different
points in the game. A global variable does not belong to any
specific instance and can be accessed, changed and used by all
instances at any time, but any change made to the variable are
"global", in that all instances using the variable will be affected
by the change. Let's have a look at an example:</p>

<p class="code">global.food = 5;<br></p>

<p><br>
We declare the "food" variable by first writing "global" and then a
"." to tell <i>GameMaker Studio 2</i> that this variable is now
global scope. We will need to use this form from now on any time we
are required to access or to change this variable in any way. So,
we have created a new variable called "food" and we have declared
it as global. Now, any instance can use and change this variable in
any way and all other instances will "see" this. For example we
could have a different food object that the player collides with
and in the collision event we have:</p>

<p class="code">global.food +=1;<br></p>

<p><br>
We also have another object that draws this value like
this:<br></p>

<p class="code">draw_text(32, 32, "food = " +
string(global.food));<br></p>

<p><br>
With global variables we can change values and see those changes
reflected in all instances of the objects that reference this
variable. As with <i>local</i> variables you have to take care not
to name your global variables the same as any instance variables as
that will cause you problems and make bugs creep into your games
due to variable overlap, which can be a difficult issue to debug
sometimes. In general you should have a single object that declares
all your global variables at the very start of the game (for
example, in the Room Start Event) or a single script that declares
them all together and is called at the start of the game, as this
gives you a handy place to go back and reference should you need to
check a variable name or edit a value.</p>

<p><i>GameMaker Studio 2</i> has a collection of "built in" global
variables too, so you should be aware of them as you may name one
of your instance variables the same or wish to have your own global
variable with the same name and wonder why you are getting errors!
They are easy to spot, however, as they are shown in a different
colour in the code editor and also come up in the auto-complete bar
at the bottom. The majority of built in global variables are very
specific and will only be used on rare occasions - and are listed
in the appropriate sections of the manual - but there is one
important one that is used frequently and isn't listed
elsewhere:</p>

<blockquote>
<ul>
<li><a href=
"../built_in_variables/async_load.html"><tt>async_load</tt></a>
</li>
</ul>
</blockquote>

<p>There are also three <b>deprecated</b> built in global variables
which you should be aware of (these variables are only designed to
support legacy projects from previous versions of <i>GameMaker</i>
and should <b><i>not be used in new projects</i></b>):</p>

<blockquote>
<ul>
<li><a href="../built_in_variables/score.html"><tt>score</tt></a>
</li>

<li><a href="../built_in_variables/health.html"><tt>health</tt></a>
</li>

<li><a href="../built_in_variables/lives.html"><tt>lives</tt></a>
</li>
</ul>
</blockquote>

<p><br>
The following form can also be used to declare global variables,
but it is <i><b>only included for backwards compatibility</b></i>,
and it is not recommended that you use this form for new projects
as future versions of <i>GameMaker Studio 2</i> may not support
it.</p>

<p>The second form for creating global variables is to declare them
as such using the <tt>globalvar</tt> declaration, much as you would
a local variable using the <tt>var</tt> declaration.</p>

<div class="note"><b>IMPORTANT!</b> The <tt>globalvar</tt>
declaration is <b>deprecated</b> and only supported for legacy
purposes. You should <b>always</b> use the <tt>global.</tt>
identifier to mark global variables.</div>

<p><br>
This (deprecated) declaration would be used as follows:</p>

<p class="code">globalvar food;<br>
food = 5;<br></p>

<p><br>
Once declared in this way that variable "food" is now considered
global and requires no <tt>global.</tt> prefix - which also means
that it's a lot harder to identify global variables in your code
and it's also much easier to get variable overlap as you use the
same variable name in different objects or from extensions that
you've installed. Once declared in this way the global variable is
accessed as follows:</p>

<p class="code">food += 2;<br></p>

<p><br>
or:</p>

<p class="code">draw_text(32, 32, "food = " +
string(food));<br></p>

<p><br>
As you can see, with nothing to show that the variable is global in
scope you are potentially setting yourself up for many subtle
problems to arise in your game, which is why this declaration
should be avoided.</p>

<p>There are a couple of functions designed to help you when
dealing with global variables (primarily for use with <a href=
"../../../1_overview/3_additional_information/obsolete_functions.html">
Compatibility Scripts</a> for imported projects and the code for
Drag and Drop actions, but they can be used elsewhere too):</p>

<ul>
<li><a href=
"../variable_functions/variable_global_exists.html"><tt>variable_global_exists</tt></a>
</li>

<li><a href=
"../variable_functions/variable_global_get.html"><tt>variable_global_get</tt></a>
</li>

<li><a href=
"../variable_functions/variable_global_set.html"><tt>variable_global_set</tt></a>
</li>
</ul>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">Back: <a href="../6_scope.html">Variables
and Variable Scope</a></div>

<div style="float:right">Next: <a href=
"method_variables.html">Method Variables</a></div>
</div>
</div>

<h5>Â© Copyright YoYo Games Ltd. 2019 All Rights Reserved</h5>
</div>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
