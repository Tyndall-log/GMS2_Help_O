<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>Local Variables</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">

<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/3_gml_overview/variable_scope/local_variables.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F3_gml_overview%2Fvariable_scope%2Flocal_variables.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F3_gml_overview%2Fvariable_scope%2Flocal_variables.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2>Local Variables</h2>

<div class="body-scroll">
<p><br>
</p>

<p>A local variable is one that we create for a specific event
<i>only</i> and then discard when the <b>event</b> has finished. If
it is created in a custom function then the local variable is only
available to the function and then discarded when the function has
finished. Why would we need them? Well, variables take up space in
memory and it may be that we are only going to use them for one
operation or function in which case we only need to have it in
memory for that short time that it's used. This keeps your code
base clean and tidy as well as keeping memory space optimised for
the things that really need it. To declare a local variable we use
the function <tt>var</tt> like this:</p>

<p class="code">var _i, _num, _str;<br>
_i = 0;<br>
_num = 24.5;<br>
_str = "Hello World";<br>
<br>
// or<br>
<br>
var _i = 0, _num = 24.5, _str = "Hello World";<br>
<br>
// or<br>
<br>
var _i = 0;<br>
var _num = 24.5;<br>
var _str = "Hello World";<br></p>

<p><br>
All of the variables created in this way will be "forgotten" (ie:
removed from memory) at the end of the event (or function) in which
they were created. You must be careful that the name you give all
<tt>var</tt> declared variables does not coincide with another
instance variable within the object running the code, and also make
sure that you have no intention of using the value stored in that
variable outside of the event declare it in (in the examples above,
all the <tt>var</tt> declared variables have been defined with the
underscore "_" preceding the variable name, but this is not
required and is done simply to make it more obvious in the code
that we are dealing with a local variable). Local variables are
used a lot in programs, especially in loops for counting
iterations, or when using a value several times in one operation
that is not going to be repeated again. Here are another couple of
examples:</p>

<p class="code">var _i = 0;<br>
repeat (10)<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;inventory[_i] = 0;<br>
&nbsp;&nbsp;&nbsp;&nbsp;_i += 1;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br></p>

<p><br>
The above code creates a local variable called "_i" and sets it to
0, all in the same line. Note that in previous versions of
<i>GameMaker</i> you had to declare your local variables first and
<i>then</i> assign them values, but in this version you can declare
<i>and</i> assign them a value at the same time. The above code
then uses this variable to initialize an array. As the variable
"_i" is not going to be used for any further functions in the
instance other than this, it can be local in scope. Here is one
more example:</p>

<p class="code">var _x, _y;<br>
_x = x - 32 + irandom(64);<br>
_y = y - 32 + irandom(64);<br>
instance_create_layer(xx, yy, "Effects", obj_blood);<br></p>

<p><br>
Here we have used the local variables "_x" and "_y" to store some
random coordinates that we then use to create an instance. In this
example you can see that it is not strictly necessary that we use
these variables but for the sake of readability and ease of use, we
do. It is MUCH clearer and obvious what we are doing there than if
we used this code:</p>

<p class="code">instance_create_layer(x - 32 + irandom(64), y - 32
+ irandom(64), "Effects", obj_guts);</p>

<p><br>
One other thing about <tt>var</tt> declared local variables should
be noted... Since they are unique to the event or function that
runs them, they can be used in any other instances through code
too! This means that we can use these variables to set and change
things in other instances using the "with()" construct (there is a
section on this in the <b>GML Overview</b> section of the manual).
The actual code itself would look something like this:</p>

<p class="code">var num = instance_number(obj_Enemy);<br>
with (obj_Enemy)<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;if num&gt;10 instance_destroy();<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br></p>

<p><br>
The above code works because the <tt>var</tt> declared variable is
local to the <i>event</i> (or function) it is contained in, not the
instance, nor the game world, and so can be used in any function in
any object as long as it is in the same code block.</p>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">Back: <a href="../6_scope.html">Variables
and Variable Scope</a></div>

<div style="float:right">Next: <a href=
"instance_variables.html">Instance Variables</a></div>
</div>
</div>

<h5>Â© Copyright YoYo Games Ltd. 2019 All Rights Reserved</h5>
</div>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
